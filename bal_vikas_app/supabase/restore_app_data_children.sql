-- ============================================================
-- Restore App Data children (deleted by ECD sample import cleanup)
-- Run this in Supabase SQL Editor to re-insert the 200 mock children
-- ============================================================

-- First: delete old ECD sample children (IDs 5000-5999) that still have
-- the old 'AP_ECD_' prefix which clashes with App Data children
DO $$ BEGIN DELETE FROM screening_results  WHERE session_id IN (SELECT id FROM screening_sessions WHERE child_id BETWEEN 5000 AND 5999); EXCEPTION WHEN OTHERS THEN NULL; END $$;
DO $$ BEGIN DELETE FROM screening_sessions WHERE child_id BETWEEN 5000 AND 5999; EXCEPTION WHEN OTHERS THEN NULL; END $$;
DO $$ BEGIN DELETE FROM referrals          WHERE child_id BETWEEN 5000 AND 5999; EXCEPTION WHEN OTHERS THEN NULL; END $$;
DELETE FROM children WHERE id BETWEEN 5000 AND 5999;

-- Re-insert all 200 children from mock data
INSERT INTO children (id, child_unique_id, name, dob, gender, awc_id) VALUES
  -- AWC 1
  (1,   'AP_ECD_000001', 'Aarav',      '2024-01-15', 'male',   1),
  (2,   'AP_ECD_000002', 'Diya',       '2023-06-20', 'female', 1),
  (3,   'AP_ECD_000003', 'Vihaan',     '2025-08-10', 'male',   1),
  (4,   'AP_ECD_000004', 'Ananya',     '2022-11-05', 'female', 1),
  (5,   'AP_ECD_000005', 'Arjun',      '2024-05-25', 'male',   1),
  (6,   'AP_ECD_000006', 'Priya',      '2023-02-14', 'female', 1),
  (7,   'AP_ECD_000007', 'Karthik',    '2025-01-30', 'male',   1),
  (8,   'AP_ECD_000008', 'Saanvi',     '2022-04-18', 'female', 1),
  (9,   'AP_ECD_000009', 'Advik',      '2024-09-07', 'male',   1),
  (10,  'AP_ECD_000010', 'Meera',      '2023-12-22', 'female', 1),
  (11,  'AP_ECD_000011', 'Dhruv',      '2025-04-11', 'male',   1),
  (12,  'AP_ECD_000012', 'Kavya',      '2022-08-03', 'female', 1),
  (13,  'AP_ECD_000013', 'Reyansh',    '2024-03-19', 'male',   1),
  (14,  'AP_ECD_000014', 'Anika',      '2023-09-28', 'female', 1),
  (15,  'AP_ECD_000015', 'Vivaan',     '2025-11-15', 'male',   1),
  (16,  'AP_ECD_000016', 'Ishani',     '2022-01-09', 'female', 1),
  (17,  'AP_ECD_000017', 'Ayaan',      '2024-07-21', 'male',   1),
  (18,  'AP_ECD_000018', 'Tara',       '2023-04-06', 'female', 1),
  (19,  'AP_ECD_000019', 'Kabir',      '2025-06-13', 'male',   1),
  (20,  'AP_ECD_000020', 'Navya',      '2022-10-27', 'female', 1),
  -- AWC 2
  (21,  'AP_ECD_000021', 'Sai',        '2024-02-08', 'male',   2),
  (22,  'AP_ECD_000022', 'Lakshmi',    '2023-07-15', 'female', 2),
  (23,  'AP_ECD_000023', 'Rishi',      '2025-09-22', 'male',   2),
  (24,  'AP_ECD_000024', 'Hasini',     '2022-12-01', 'female', 2),
  (25,  'AP_ECD_000025', 'Harsha',     '2024-06-17', 'male',   2),
  (26,  'AP_ECD_000026', 'Bhavya',     '2023-03-09', 'female', 2),
  (27,  'AP_ECD_000027', 'Nithish',    '2025-02-28', 'male',   2),
  (28,  'AP_ECD_000028', 'Sravya',     '2022-05-14', 'female', 2),
  (29,  'AP_ECD_000029', 'Tarun',      '2024-10-03', 'male',   2),
  (30,  'AP_ECD_000030', 'Keerthi',    '2024-01-20', 'female', 2),
  (31,  'AP_ECD_000031', 'Pranav',     '2025-05-07', 'male',   2),
  (32,  'AP_ECD_000032', 'Swathi',     '2022-09-11', 'female', 2),
  (33,  'AP_ECD_000033', 'Manoj',      '2024-04-26', 'male',   2),
  (34,  'AP_ECD_000034', 'Divya',      '2023-10-18', 'female', 2),
  (35,  'AP_ECD_000035', 'Aditya',     '2025-12-25', 'male',   2),
  (36,  'AP_ECD_000036', 'Mounika',    '2022-02-16', 'female', 2),
  (37,  'AP_ECD_000037', 'Varun',      '2024-08-09', 'male',   2),
  (38,  'AP_ECD_000038', 'Sahithi',    '2023-05-02', 'female', 2),
  (39,  'AP_ECD_000039', 'Rohith',     '2025-07-19', 'male',   2),
  (40,  'AP_ECD_000040', 'Harika',     '2022-11-30', 'female', 2),
  -- AWC 3
  (41,  'AP_ECD_000041', 'Charan',     '2024-03-12', 'male',   3),
  (42,  'AP_ECD_000042', 'Tejaswini',  '2023-08-25', 'female', 3),
  (43,  'AP_ECD_000043', 'Pavan',      '2025-10-08', 'male',   3),
  (44,  'AP_ECD_000044', 'Anusha',     '2023-01-14', 'female', 3),
  (45,  'AP_ECD_000045', 'Surya',      '2024-07-06', 'male',   3),
  (46,  'AP_ECD_000046', 'Niharika',   '2023-04-19', 'female', 3),
  (47,  'AP_ECD_000047', 'Hemanth',    '2025-03-01', 'male',   3),
  (48,  'AP_ECD_000048', 'Sowmya',     '2022-06-22', 'female', 3),
  (49,  'AP_ECD_000049', 'Kiran',      '2024-11-15', 'male',   3),
  (50,  'AP_ECD_000050', 'Lavanya',    '2024-02-27', 'female', 3),
  (51,  'AP_ECD_000051', 'Rahul',      '2025-06-05', 'male',   3),
  (52,  'AP_ECD_000052', 'Shalini',    '2022-10-09', 'female', 3),
  (53,  'AP_ECD_000053', 'Ganesh',     '2024-05-20', 'male',   3),
  (54,  'AP_ECD_000054', 'Ramya',      '2023-11-11', 'female', 3),
  (55,  'AP_ECD_000055', 'Mahesh',     '2026-01-02', 'male',   3),
  (56,  'AP_ECD_000056', 'Pallavi',    '2022-03-28', 'female', 3),
  (57,  'AP_ECD_000057', 'Anil',       '2024-09-14', 'male',   3),
  (58,  'AP_ECD_000058', 'Madhuri',    '2023-06-07', 'female', 3),
  (59,  'AP_ECD_000059', 'Siddharth',  '2025-08-23', 'male',   3),
  (60,  'AP_ECD_000060', 'Vaishnavi',  '2023-01-30', 'female', 3),
  -- AWC 4
  (61,  'AP_ECD_000061', 'Venkat',     '2024-04-04', 'male',   4),
  (62,  'AP_ECD_000062', 'Spandana',   '2023-09-17', 'female', 4),
  (63,  'AP_ECD_000063', 'Rajesh',     '2025-11-24', 'male',   4),
  (64,  'AP_ECD_000064', 'Chandana',   '2023-02-10', 'female', 4),
  (65,  'AP_ECD_000065', 'Naresh',     '2024-08-03', 'male',   4),
  (66,  'AP_ECD_000066', 'Deepika',    '2023-05-26', 'female', 4),
  (67,  'AP_ECD_000067', 'Lokesh',     '2025-04-09', 'male',   4),
  (68,  'AP_ECD_000068', 'Sirisha',    '2022-07-15', 'female', 4),
  (69,  'AP_ECD_000069', 'Bharath',    '2024-12-20', 'male',   4),
  (70,  'AP_ECD_000070', 'Jhansi',     '2024-03-06', 'female', 4),
  (71,  'AP_ECD_000071', 'Chaitanya',  '2025-07-13', 'male',   4),
  (72,  'AP_ECD_000072', 'Revathi',    '2022-11-08', 'female', 4),
  (73,  'AP_ECD_000073', 'Karthick',   '2024-06-29', 'male',   4),
  (74,  'AP_ECD_000074', 'Sunitha',    '2023-12-05', 'female', 4),
  (75,  'AP_ECD_000075', 'Naveen',     '2026-01-18', 'male',   4),
  (76,  'AP_ECD_000076', 'Bhargavi',   '2022-04-22', 'female', 4),
  (77,  'AP_ECD_000077', 'Dinesh',     '2024-10-11', 'male',   4),
  (78,  'AP_ECD_000078', 'Yamini',     '2023-07-04', 'female', 4),
  (79,  'AP_ECD_000079', 'Sandeep',    '2025-09-16', 'male',   4),
  (80,  'AP_ECD_000080', 'Nagamani',   '2023-02-21', 'female', 4),
  -- AWC 5
  (81,  'AP_ECD_000081', 'Prudhvi',    '2024-05-13', 'male',   5),
  (82,  'AP_ECD_000082', 'Sravanthi',  '2023-10-28', 'female', 5),
  (83,  'AP_ECD_000083', 'Vineeth',    '2025-12-07', 'male',   5),
  (84,  'AP_ECD_000084', 'Saritha',    '2023-03-15', 'female', 5),
  (85,  'AP_ECD_000085', 'Mohan',      '2024-09-01', 'male',   5),
  (86,  'AP_ECD_000086', 'Padmini',    '2023-06-18', 'female', 5),
  (87,  'AP_ECD_000087', 'Prabhas',    '2025-03-25', 'male',   5),
  (88,  'AP_ECD_000088', 'Surekha',    '2022-08-10', 'female', 5),
  (89,  'AP_ECD_000089', 'Kalyan',     '2025-01-04', 'male',   5),
  (90,  'AP_ECD_000090', 'Bindu',      '2024-04-16', 'female', 5),
  (91,  'AP_ECD_000091', 'Sathish',    '2025-08-19', 'male',   5),
  (92,  'AP_ECD_000092', 'Vasudha',    '2022-12-23', 'female', 5),
  (93,  'AP_ECD_000093', 'Ajay',       '2024-07-08', 'male',   5),
  (94,  'AP_ECD_000094', 'Prasanna',   '2024-01-02', 'female', 5),
  (95,  'AP_ECD_000095', 'Phani',      '2025-05-14', 'male',   5),
  (96,  'AP_ECD_000096', 'Mrudula',    '2022-09-27', 'female', 5),
  (97,  'AP_ECD_000097', 'Srikanth',   '2024-11-06', 'male',   5),
  (98,  'AP_ECD_000098', 'Pranitha',   '2023-08-21', 'female', 5),
  (99,  'AP_ECD_000099', 'Manohar',    '2025-10-30', 'male',   5),
  (100, 'AP_ECD_000100', 'Varsha',     '2023-04-12', 'female', 5),
  -- AWC 6
  (101, 'AP_ECD_000101', 'Gopal',      '2024-02-19', 'male',   6),
  (102, 'AP_ECD_000102', 'Amulya',     '2023-07-30', 'female', 6),
  (103, 'AP_ECD_000103', 'Sriram',     '2025-11-05', 'male',   6),
  (104, 'AP_ECD_000104', 'Likitha',    '2023-02-24', 'female', 6),
  (105, 'AP_ECD_000105', 'Teja',       '2024-08-16', 'male',   6),
  (106, 'AP_ECD_000106', 'Manasa',     '2023-05-09', 'female', 6),
  (107, 'AP_ECD_000107', 'Abhinav',    '2025-04-21', 'male',   6),
  (108, 'AP_ECD_000108', 'Deepthi',    '2022-07-05', 'female', 6),
  (109, 'AP_ECD_000109', 'Yaswanth',   '2025-01-13', 'male',   6),
  (110, 'AP_ECD_000110', 'Ashwini',    '2024-04-27', 'female', 6),
  (111, 'AP_ECD_000111', 'Prem',       '2025-09-03', 'male',   6),
  (112, 'AP_ECD_000112', 'Archana',    '2022-12-18', 'female', 6),
  (113, 'AP_ECD_000113', 'Sagar',      '2024-06-10', 'male',   6),
  (114, 'AP_ECD_000114', 'Rekha',      '2023-11-23', 'female', 6),
  (115, 'AP_ECD_000115', 'Yashwanth',  '2026-01-28', 'male',   6),
  (116, 'AP_ECD_000116', 'Sangeeta',   '2022-05-06', 'female', 6),
  (117, 'AP_ECD_000117', 'Raju',       '2024-10-22', 'male',   6),
  (118, 'AP_ECD_000118', 'Akhila',     '2023-08-04', 'female', 6),
  (119, 'AP_ECD_000119', 'Sumanth',    '2025-07-15', 'male',   6),
  (120, 'AP_ECD_000120', 'Pavani',     '2023-03-01', 'female', 6),
  -- AWC 7
  (121, 'AP_ECD_000121', 'Venkatesh',  '2024-03-24', 'male',   7),
  (122, 'AP_ECD_000122', 'Srilakshmi', '2023-09-08', 'female', 7),
  (123, 'AP_ECD_000123', 'Chandra',    '2025-12-15', 'male',   7),
  (124, 'AP_ECD_000124', 'Himabindu',  '2023-01-07', 'female', 7),
  (125, 'AP_ECD_000125', 'Raviteja',   '2024-07-20', 'male',   7),
  (126, 'AP_ECD_000126', 'Supriya',    '2023-04-03', 'female', 7),
  (127, 'AP_ECD_000127', 'Naga',       '2025-02-17', 'male',   7),
  (128, 'AP_ECD_000128', 'Rani',       '2022-06-11', 'female', 7),
  (129, 'AP_ECD_000129', 'Sarath',     '2024-11-29', 'male',   7),
  (130, 'AP_ECD_000130', 'Durga',      '2024-02-14', 'female', 7),
  (131, 'AP_ECD_000131', 'Ramu',       '2025-06-26', 'male',   7),
  (132, 'AP_ECD_000132', 'Kumari',     '2022-10-19', 'female', 7),
  (133, 'AP_ECD_000133', 'Ramana',     '2024-05-08', 'male',   7),
  (134, 'AP_ECD_000134', 'Padma',      '2023-12-14', 'female', 7),
  (135, 'AP_ECD_000135', 'Balu',       '2026-02-01', 'male',   7),
  (136, 'AP_ECD_000136', 'Geetha',     '2022-03-16', 'female', 7),
  (137, 'AP_ECD_000137', 'Kumar',      '2024-09-22', 'male',   7),
  (138, 'AP_ECD_000138', 'Vijaya',     '2023-06-15', 'female', 7),
  (139, 'AP_ECD_000139', 'Krish',      '2025-08-07', 'male',   7),
  (140, 'AP_ECD_000140', 'Sita',       '2023-01-21', 'female', 7),
  -- AWC 8
  (141, 'AP_ECD_000141', 'Deva',       '2024-04-15', 'male',   8),
  (142, 'AP_ECD_000142', 'Sneha',      '2023-10-06', 'female', 8),
  (143, 'AP_ECD_000143', 'Arun',       '2025-11-19', 'male',   8),
  (144, 'AP_ECD_000144', 'Sudha',      '2023-03-25', 'female', 8),
  (145, 'AP_ECD_000145', 'Sekhar',     '2024-09-10', 'male',   8),
  (146, 'AP_ECD_000146', 'Madhavi',    '2023-06-23', 'female', 8),
  (147, 'AP_ECD_000147', 'Shiva',      '2025-05-03', 'male',   8),
  (148, 'AP_ECD_000148', 'Vanaja',     '2022-08-28', 'female', 8),
  (149, 'AP_ECD_000149', 'Keshav',     '2025-02-06', 'male',   8),
  (150, 'AP_ECD_000150', 'Tulasi',     '2024-05-19', 'female', 8),
  (151, 'AP_ECD_000151', 'Nagarjuna',  '2025-09-27', 'male',   8),
  (152, 'AP_ECD_000152', 'Sowjanya',   '2023-01-11', 'female', 8),
  (153, 'AP_ECD_000153', 'Vikram',     '2024-07-03', 'male',   8),
  (154, 'AP_ECD_000154', 'Haritha',    '2024-01-28', 'female', 8),
  (155, 'AP_ECD_000155', 'Sanjay',     '2025-06-09', 'male',   8),
  (156, 'AP_ECD_000156', 'Nandini',    '2022-10-03', 'female', 8),
  (157, 'AP_ECD_000157', 'Bhaskar',    '2024-11-16', 'male',   8),
  (158, 'AP_ECD_000158', 'Lalitha',    '2023-08-09', 'female', 8),
  (159, 'AP_ECD_000159', 'Kishan',     '2025-10-22', 'male',   8),
  (160, 'AP_ECD_000160', 'Aruna',      '2023-04-27', 'female', 8),
  -- AWC 9
  (161, 'AP_ECD_000161', 'Prasanth',   '2024-03-05', 'male',   9),
  (162, 'AP_ECD_000162', 'Rajani',     '2023-09-20', 'female', 9),
  (163, 'AP_ECD_000163', 'Madhu',      '2025-12-28', 'male',   9),
  (164, 'AP_ECD_000164', 'Susheela',   '2023-02-07', 'female', 9),
  (165, 'AP_ECD_000165', 'Jagadish',   '2024-08-22', 'male',   9),
  (166, 'AP_ECD_000166', 'Pushpavalli','2023-05-15', 'female', 9),
  (167, 'AP_ECD_000167', 'Seshu',      '2025-04-01', 'male',   9),
  (168, 'AP_ECD_000168', 'Sumalatha',  '2022-07-26', 'female', 9),
  (169, 'AP_ECD_000169', 'Yugandhar',  '2025-01-17', 'male',   9),
  (170, 'AP_ECD_000170', 'Radha',      '2024-04-08', 'female', 9),
  (171, 'AP_ECD_000171', 'Rambabu',    '2025-08-25', 'male',   9),
  (172, 'AP_ECD_000172', 'Bhavani',    '2022-12-10', 'female', 9),
  (173, 'AP_ECD_000173', 'Satya',      '2024-06-02', 'male',   9),
  (174, 'AP_ECD_000174', 'Subbalakshmi','2023-12-27', 'female', 9),
  (175, 'AP_ECD_000175', 'Ramakrishna','2026-01-10', 'male',   9),
  (176, 'AP_ECD_000176', 'Sarojamma',  '2022-04-04', 'female', 9),
  (177, 'AP_ECD_000177', 'Tirupathi',  '2024-10-15', 'male',   9),
  (178, 'AP_ECD_000178', 'Jayamma',    '2023-07-08', 'female', 9),
  (179, 'AP_ECD_000179', 'Hanumanthu', '2025-09-20', 'male',   9),
  (180, 'AP_ECD_000180', 'Vani',       '2023-03-13', 'female', 9),
  -- AWC 10
  (181, 'AP_ECD_000181', 'Ravi',       '2024-02-26', 'male',   10),
  (182, 'AP_ECD_000182', 'Kamala',     '2023-08-12', 'female', 10),
  (183, 'AP_ECD_000183', 'Govind',     '2025-11-28', 'male',   10),
  (184, 'AP_ECD_000184', 'Anitha',     '2023-01-16', 'female', 10),
  (185, 'AP_ECD_000185', 'Srinu',      '2024-07-10', 'male',   10),
  (186, 'AP_ECD_000186', 'Hemalatha',  '2023-04-22', 'female', 10),
  (187, 'AP_ECD_000187', 'Nagesh',     '2025-03-08', 'male',   10),
  (188, 'AP_ECD_000188', 'Laxmi',      '2022-06-19', 'female', 10),
  (189, 'AP_ECD_000189', 'Mallik',     '2024-12-04', 'male',   10),
  (190, 'AP_ECD_000190', 'Jyothi',     '2024-03-18', 'female', 10),
  (191, 'AP_ECD_000191', 'Dharma',     '2025-07-30', 'male',   10),
  (192, 'AP_ECD_000192', 'Savitha',    '2022-11-14', 'female', 10),
  (193, 'AP_ECD_000193', 'Sudheer',    '2024-05-25', 'male',   10),
  (194, 'AP_ECD_000194', 'Kalyani',    '2023-11-07', 'female', 10),
  (195, 'AP_ECD_000195', 'Balaraju',   '2025-12-20', 'male',   10),
  (196, 'AP_ECD_000196', 'Manga',      '2022-03-03', 'female', 10),
  (197, 'AP_ECD_000197', 'Ramesh',     '2024-09-06', 'male',   10),
  (198, 'AP_ECD_000198', 'Sandhya',    '2023-06-29', 'female', 10),
  (199, 'AP_ECD_000199', 'Apparao',    '2025-08-14', 'male',   10),
  (200, 'AP_ECD_000200', 'Saroja',     '2023-02-18', 'female', 10)
ON CONFLICT (id) DO NOTHING;

-- Also ensure App Data dataset entry exists
INSERT INTO datasets (id, name, name_te, project_id, district_id, state_id, is_default)
VALUES (1, 'App Data', 'యాప్ డేటా', 1, 1, 1, true)
ON CONFLICT (id) DO NOTHING;

-- Reset children sequence
SELECT setval('children_id_seq', (SELECT MAX(id) FROM children));
